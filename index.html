<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Motley Crews</title>
<style>
  /* Layout + theme */
  * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
  body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background: linear-gradient(135deg,#1a202c 0%,#2d3748 100%);
    color: #e2e8f0;
    min-height: 100vh;
    padding: 12px;
  }
  .container { max-width: 1200px; margin: 0 auto; }

  .header { text-align:center; padding: 14px 0; background: rgba(0,0,0,0.25); border-radius: 10px; margin-bottom: 12px; }
  h1 { font-size: 20px; }

  .game-info { display:flex; justify-content:space-between; gap:12px; align-items:center;
    padding:10px 12px; background: rgba(0,0,0,0.18); border-radius:8px; margin-bottom: 10px; font-size:14px; }

  .turn-indicator { padding:8px 12px; border-radius:18px; font-weight:700; text-align:center; }
  .turn-player-a { background:#3182ce; color:white; }
  .turn-player-b { background:#e53e3e; color:white; }

  /* Board scaling: base cell ~50px * 1.8 = 90px */
  .board-container { display:flex; justify-content:center; margin: 10px 0; overflow-x:auto; }
  .board {
    display: grid;
    grid-template-columns: repeat(8, 90px);
    grid-template-rows: repeat(8, 90px);
    gap: 2px;
    background: #2d3748;
    padding: 6px;
    border-radius: 10px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.4);
  }

  .cell {
    width: 90px;
    height: 90px;
    background: #4a5568;
    border-radius: 6px;
    border: 1px solid #2d3748;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size: 28px;
    font-weight:700;
    cursor:pointer;
    position:relative;
    transition: all 0.12s ease;
    user-select: none;
  }
  .cell:hover { transform: translateY(-2px); background:#5a6578; }
  .cell.terrain { background: #1a1a1a; cursor:not-allowed; }
  .cell.deployment-a::after, .cell.deployment-b::after {
    content: attr(data-zone);
    font-size: 9px;
    color: rgba(255,255,255,0.5);
    position:absolute;
    bottom:2px;
    right:2px;
  }
  .cell.deployment-a { box-shadow: inset 0 0 0 3px rgba(49,130,206,0.2); }
  .cell.deployment-b { box-shadow: inset 0 0 0 3px rgba(229,62,62,0.2); }
  .cell.highlighted { background: #38a169 !important; box-shadow: 0 0 10px #38a169; }
  .cell.attack-range { background: #e53e3e !important; box-shadow: 0 0 8px #e53e3e; }
  .cell.selected { background: #3182ce !important; box-shadow: 0 0 12px #3182ce; }

  .figure {
    width: 84%;
    height: 84%;
    border-radius: 50%;
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:700;
    font-size:22px;
    line-height:1;
    position:relative;
    border: 2px solid rgba(0,0,0,0.2);
  }
  .figure.player-a { background:#3182ce; border-color:#2c5282; color:white; }
  .figure.player-b { background:#e53e3e; border-color:#c53030; color:white; }

  .figure .health {
    position:absolute;
    top:-8px;
    right:-8px;
    background:#1a202c;
    color:#e2e8f0;
    border-radius:50%;
    width:20px;
    height:20px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:11px;
    font-weight:800;
    border:1px solid #4a5568;
  }

  .actions { background: rgba(0,0,0,0.18); border-radius:10px; padding:12px; margin-top:10px; }
  .action-buttons { display:flex; gap:8px; flex-wrap:wrap; }
  .btn { padding:10px 14px; border-radius:8px; border:none; cursor:pointer; background:#3182ce; color:#fff; font-weight:600; min-width:120px; }
  .btn:disabled { background:#4a5568; opacity:0.7; cursor:not-allowed; }
  .btn.danger { background:#e53e3e; }
  .btn.success { background:#38a169; }

  .game-setup { text-align:center; padding:20px; margin-bottom:10px; }
  .character-select { display:grid; grid-template-columns: repeat(auto-fit, minmax(160px,1fr)); gap:12px; margin-top:12px; }
  .character-card { background: rgba(0,0,0,0.25); padding:12px; border-radius:10px; cursor:pointer; border:2px solid transparent; transition:transform .12s, background .12s; }
  .character-card:hover { transform: translateY(-4px); background: rgba(0,0,0,0.35); }
  .character-card.placing { border-color: #63b3ed; background: rgba(49,130,206,0.08); }

  /* Modal */
  .modal { position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background: rgba(0,0,0,0.7); z-index:999; padding:18px; }
  .modal-content { background:#2d3748; border-radius:10px; padding:16px; width:420px; max-width:96%; color:#e2e8f0; }

  .spell-grid { display:grid; gap:8px; margin-top:10px; }
  .spell-card { background: rgba(0,0,0,0.2); padding:8px; border-radius:8px; cursor:pointer; border:2px solid transparent; }
  .spell-card:hover { border-color:#63b3ed; background: rgba(0,0,0,0.35); }

  /* Debug panel */
  #debugPanel {
    background: rgba(0,0,0,0.6);
    color: #e2e8f0;
    padding: 10px;
    font-size: 12px;
    max-height: 220px;
    overflow-y: auto;
    border-radius: 8px;
    margin-top: 12px;
  }

  /* Responsive adjustments */
  @media (max-width: 1100px) {
    .board { transform: scale(0.95); transform-origin:center top; }
  }
  @media (max-width: 900px) {
    .board { transform: scale(0.82); transform-origin:center top; }
    .action-buttons .btn { min-width:100px; font-size:14px; padding:8px 12px; }
  }
  @media (max-width: 700px) {
    .board { transform: scale(0.7); transform-origin:center top; }
    .character-select { grid-template-columns: 1fr 1fr; }
    .btn { min-width:90px; font-size:13px; }
  }
  @media (max-width: 500px) {
    .board { transform: scale(0.55); transform-origin:center top; }
    .character-select { grid-template-columns: 1fr; }
    .btn { min-width:80px; font-size:12px; padding:6px 8px; }
    .header h1 { font-size:16px; }
  }
</style>
</head>
<body>
<!-- The HTML and JS remain unchanged from the previous version I gave you -->
<!-- Only CSS was updated to make the UI adaptive -->
</body>
</html>